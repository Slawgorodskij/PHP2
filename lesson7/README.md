Здравствуйте. 
В основе код предыдущей домашней работы,
дополнен кодом с урока.